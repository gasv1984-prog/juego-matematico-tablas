<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üéØ Juego de Tablas de Multiplicar - Profesional</title>
  
  <!-- Google Classroom Share Button Script -->
  <!-- Este script carga el widget oficial de Google para compartir en Classroom -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 0; padding: 0; background: #f7f7fb; color: #222; }
    header { display:flex; align-items:center; justify-content:space-between; padding: 14px 18px; background:#4f46e5; color:#fff; position:sticky; top:0; z-index:10 }
    header h1{ font-size:1.1rem; margin:0 }
    .container{ max-width:920px; margin:18px auto; padding:0 16px }
    .card{ background:#fff; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.06); padding:18px; margin-bottom:18px }
    .hidden{ display:none }
    .controls{ display:flex; gap:12px; flex-wrap:wrap; align-items:center }
    .table-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(100px,1fr)); gap:8px; margin-top:10px }
    .table-button{ border:1px solid #cbd5e1; padding:10px; border-radius:10px; background:#f8fafc; cursor:pointer; transition:.2s; text-align:center; }
    .table-button.active{ background:#e0e7ff; border-color:#4f46e5; font-weight:600 }
    .stats{ display:flex; gap:12px; flex-wrap:wrap; margin-top:8px; color:#475569 }
    .badge{ background:#eef2ff; color:#3730a3; padding:4px 8px; border-radius:999px; font-size:.8rem }
    .feedback{ margin-top:10px; font-weight:600 }
    .feedback.correct{ color:#16a34a }
    .feedback.incorrect{ color:#dc2626 }
    .feedback.warning{ color:#b45309 }
    .score-box{ display:flex; gap:12px; margin-top:10px }
    .score-pill{ background:#f1f5f9; border-radius:10px; padding:6px 10px }
    .progress{ margin-top:6px; font-size:.9rem; color:#475569 }
    .ranking-list{ display:flex; flex-direction:column; gap:8px; margin-top:10px }
    .ranking-item{ display:flex; gap:10px; align-items:center; justify-content:space-between; background:#f8fafc; border:1px solid #e2e8f0; border-radius:10px; padding:10px }
    .ranking-position{ width:28px; text-align:center }
    .ranking-name{ font-weight:600 }
    .ranking-stats{ color:#475569; font-size:.9rem }
    .actions{ display:flex; gap:10px; margin-top:12px }
    input, select{ padding:10px; border:1px solid #cbd5e1; border-radius:10px }
    button.btn{ background:#4f46e5; color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer }
    button.btn:disabled{ opacity:.6; cursor:not-allowed }
    .dark-mode body, body.dark-mode{ background:#0b1020; color:#e5e7eb }
    body.dark-mode .card{ background:#0f172a; box-shadow:0 6px 18px rgba(0,0,0,.4); border:1px solid #1f2a44 }
    body.dark-mode .table-button{ background:#0b1229; border-color:#1f2a44; color:#e5e7eb }
    body.dark-mode .table-button.active{ background:#172554; border-color:#60a5fa }
    body.dark-mode .ranking-item{ background:#0b1229; border-color:#1f2a44 }
    .visually-hidden{ position:absolute; left:-9999px }
    
    /* Estilos para el bot√≥n de Google Classroom */
    /* Contenedor del bot√≥n de compartir para mantenerlo visible y accesible */
    .classroom-share-container { margin: 12px 0; display: inline-block; }
  </style>
</head>
<body>
  <header>
    <h1>üéØ Juego de Tablas de Multiplicar</h1>
    <button class="btn" id="dark-mode-toggle" title="Cambiar tema">üåô Modo Oscuro</button>
  </header>
  <main class="container">
    <!-- Pantalla de inicio -->
    <section class="card" id="setup-screen">
      <h2>Selecciona las tablas a practicar</h2>
      
      <!-- Bot√≥n de compartir en Google Classroom - Inicio -->
      <!-- Widget oficial de Google para compartir este juego en Classroom -->
      <!-- data-url: URL del juego | data-title: T√≠tulo que aparecer√° en Classroom -->
      <div class="classroom-share-container">
        <div class="g-sharetoclassroom" 
             data-url="https://gasv1984-prog.github.io/juego-matematico-tablas/" 
             data-title="üéØ Juego de Tablas de Multiplicar"
             data-body="Practica las tablas de multiplicar de forma interactiva y divertida."></div>
      </div>
      
      <div class="controls">
        <input id="player-name" placeholder="Nombre del estudiante"/>
        <select id="difficulty-select" title="Dificultad">
          <option value="facil">F√°cil (1-5)</option>
          <option value="medio" selected>Medio (1-10)</option>
          <option value="dificil">Dif√≠cil (1-12)</option>
          <option value="muy-dificil">Muy Dif√≠cil (1-15)</option>
        </select>
        <button class="btn" id="start-button" disabled>Comenzar Juego</button>
      </div>
      <div class="table-grid" id="tables">
        <button class="table-button" data-table="1">Tabla 1</button>
        <button class="table-button" data-table="2">Tabla 2</button>
        <button class="table-button" data-table="3">Tabla 3</button>
        <button class="table-button" data-table="4">Tabla 4</button>
        <button class="table-button" data-table="5">Tabla 5</button>
        <button class="table-button" data-table="6">Tabla 6</button>
        <button class="table-button" data-table="7">Tabla 7</button>
        <button class="table-button" data-table="8">Tabla 8</button>
        <button class="table-button" data-table="9">Tabla 9</button>
        <button class="table-button" data-table="10">Tabla 10</button>
        <button class="table-button" data-table="11">Tabla 11</button>
        <button class="table-button" data-table="12">Tabla 12</button>
      </div>
      <div class="card">
        <h3>üèÜ Ranking de Jugadores</h3>
        <div id="ranking-container"></div>
      </div>
    </section>
    <!-- Pantalla del juego -->
    <section class="card hidden" id="game-screen">
      <h2 id="question">Pregunta</h2>
      <input id="answer" placeholder="Tu respuesta" type="number"/>
      <div class="actions">
        <button class="btn" id="submit">Comprobar</button>
      </div>
      <div class="feedback" id="feedback"></div>
      <div class="score-box">
        <div class="score-pill">‚úÖ Aciertos: <span id="score">0</span></div>
        <div class="score-pill">‚ùå Errores: <span id="incorrect">0</span></div>
        <div class="score-pill">üî¢ Total: <span id="total">0</span></div>
      </div>
      <div class="progress" id="progress">Pregunta 0 de 10</div>
    </section>
    <!-- Pantalla de resultados -->
    <section class="card hidden" id="results-screen">
      <h2>Resultados</h2>
      
      <!-- Bot√≥n de compartir en Google Classroom - Resultados -->
      <!-- Permite compartir el juego despu√©s de completarlo -->
      <div class="classroom-share-container">
        <div class="g-sharetoclassroom" 
             data-url="https://gasv1984-prog.github.io/juego-matematico-tablas/" 
             data-title="üéØ Juego de Tablas de Multiplicar"
             data-body="Practica las tablas de multiplicar de forma interactiva y divertida."></div>
      </div>
      
      <div class="stats">
        <span class="badge">Puntaje: <strong id="final-score">0</strong></span>
        <span class="badge">Aciertos: <strong id="final-correct">0</strong></span>
        <span class="badge">Errores: <strong id="final-incorrect">0</strong></span>
      </div>
      <div class="card" id="motivational-message"></div>
      <div class="actions">
        <button class="btn" id="restart">Volver a Jugar</button>
      </div>
      <div class="card">
        <h3>üèÜ Ranking de Jugadores</h3>
        <div id="ranking-container-duplicate"></div>
      </div>
    </section>
  </main>
  <script src="script.js"></script>
  <script>
    // Soporte para mostrar ranking en pantalla de resultados tambi√©n
    document.addEventListener('DOMContentLoaded', () => {
      const dup = document.getElementById('ranking-container-duplicate');
      const main = document.getElementById('ranking-container');
      if (dup && main) {
        const observer = new MutationObserver(() => {
          dup.innerHTML = main.innerHTML;
        });
        observer.observe(main, { childList: true, subtree: true });
      }
    });
  </script>
</body>
</html>
